# R for travis: see documentation at https://docs.travis-ci.com/user/languages/r

language: r
sudo: true
latex: false
pandoc: false
warnings_are_errors: false

before_install:
- if [[ "$OSTYPE" != "linux-gnu" ]]; then sudo tlmgr install framed titling latexmk; fi
- sudo apt-get update && sudo apt-get install --no-install-recommends texlive-fonts-recommended texlive-latex-extra texlive-fonts-extra texlive-latex-recommended dvipng
install: echo "Nothing occurs at installation, only script"
script:
- Rscript install_texlive.R
#- Rscript -e 'tinytex::pdflatex(list.files(pattern = "\\.tex$")[1], bib_engine = "biber")'
branches:
  - master
  - travising
deploy:
  provider: releases
  skip_cleanup: true
  api_key:
    secure: <generated by `travis setup releases`>
  file: Report.pdf
  on:
    repo: lindsayrutter/ggenealogy